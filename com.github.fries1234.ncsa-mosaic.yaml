app-id: "com.github.fries1234.ncsa-mosaic"

runtime: "org.freedesktop.Platform"
runtime-version: "23.08"
sdk: "org.freedesktop.Sdk"

command: "Mosaic"

finish-args:
  - "--filesystem=xdg-download:rw"
  - "--share=network"
  - "--socket=x11"
  - "--share=ipc"

cleanup:
  - "/bin/uil"
  - "/bin/mwm"
  - "/bin/xmbind"
  - "/share/Xm"
  - "/share/man"
  - "/share/doc"
  - "/share/pkgconfig"
  - "/include/*"
  - "*.a"
  - "*.la"

modules:
  - name: "xbitmaps"
    buildsystem: "autotools"
    sources:
      - type: "archive"
        url: "https://xorg.freedesktop.org/releases/individual/data/xbitmaps-1.1.3.tar.xz"
        sha256: "ad6cad54887832a17d86c2ccfc5e52a1dfab090f8307b152c78b0e1529cd0f7a"
  - name: "libxmu"
    buildsystem: "autotools"
    sources:
      - type: "archive"
        url: "https://xorg.freedesktop.org/releases/individual/lib/libXmu-1.1.4.tar.xz"
        sha256: "210de3ab9c3e9382572c25d17c2518a854ce6e2c62c5f8315deac7579e758244"
  - name: "libxft"
    buildsystem: "autotools"
    sources:
      - type: "archive"
        url: "https://xorg.freedesktop.org/releases/individual/lib/libXft-2.3.8.tar.xz"
        sha256: "5e8c3c4bc2d4c0a40aef6b4b38ed2fb74301640da29f6528154b5009b1c6dd49"
  - name: "openmotif"
    buildsystem: "autotools"
    sources:
      - type: "archive"
        url: "https://downloads.sourceforge.net/project/motif/Motif%202.3.8%20Source%20Code/motif-2.3.8.tar.gz"
        sha256: "859b723666eeac7df018209d66045c9853b50b4218cecadb794e2359619ebce7"
  - name: "mosaic"
    buildsystem: "meson"
    sources:
      - type: "git"
        url: "https://github.com/fries1234/ncsa-mosaic"
        tag: "2.7b6-flatpak4"
    
